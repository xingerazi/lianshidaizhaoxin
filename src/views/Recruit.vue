<template>
  <div class="recruit">
    <p class="title">é“¾æ—¶ä»£å·¥ä½œå®¤2023æ‹›æ–°é¢˜ç›®</p>
    <el-divider>beginning</el-divider>
    <div>
      <el-collapse-transition>
        <div v-show="collapse">
          <el-card
            style="
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12),
                0 0 6px rgba(0, 0, 0, 0.04);
            "
          >
            <div class="transition-box">
              <p>é“¾æ—¶ä»£ åŸºç¡€é¢˜ç›®</p>
              <div class="basic-content" style="margin: 20px 0 20px 10px">
                <i class="el-icon-document-remove"> æäº¤é¡»çŸ¥</i>
                <div class="intro">
                  <p>
                    1.ç®—æ³•é¢˜ç›®å¯ä»¥ç”¨Cè¯­è¨€æˆ–C++è¿›è¡Œå®ç°ï¼Œä¸èƒ½ä½¿ç”¨å…¶ä»–è¯­è¨€ã€‚ä¾‹å¦‚python,javaç­‰ã€‚
                  </p>
                  <p>
                    2.å¤§ä¸€åŒå­¦è‡³å°‘éœ€è¦å®Œæˆä»»æ„äº”é“é¢˜ï¼Œéš¾åº¦ä¸ä¿è¯æŒ‰ç…§é¢˜å·é€’å¢ï¼Œå› æ­¤å¯ä»¥è‡ªè¡ŒæŒ‘é€‰ã€‚
                  </p>
                  <p>
                    3.å¦‚æœé‡åˆ°è‡ªå·±æ— æ³•è§£å†³çš„å›°éš¾æˆ–è€…ç–‘æƒ‘å¯ä»¥å’¨è¯¢ç®—æ³•æ–¹å‘è´Ÿè´£äººğŸ˜Šã€‚
                  </p>
                  <p>
                    4.ç®—æ³•é¢˜ç›®çš„æäº¤æ–¹å¼:é“¾æ—¶ä»£å¹³å°èµ›ã€‚æ¯”èµ›é“¾æ¥ä¸º:
                    <a
                      href="https://www.luogu.com.cn/contest/129630#description"
                      >ç‚¹å‡»è·³è½¬</a
                    >è¯·è‡ªè¡Œæ³¨å†ŒåæŠ¥åï¼Œæäº¤ã€‚
                  </p>
                  <p>5.æ‹›æ–°æˆªæ­¢æ—¶é—´ä¸ºï¼š...</p>
                </div>
                <el-button
                  style="margin-top: 20px"
                  type="primary"
                  @click="$router.push('clan')"
                  >Read More</el-button
                >
                <el-button
                  style="margin-top: 20px"
                  type="info"
                  @click="downloadMarkdownFilec"
                  >é¢˜ç›®ä¸‹è½½</el-button
                >
                <el-button
                  style="margin-top: 20px"
                  type="primary"
                  @click="sumbitbox = true"
                  >æäº¤æ‹›æ–°é¢˜</el-button
                >
              </div>
              <hr />
            </div>
          </el-card>
          <div class="divider"></div>
          <el-card
            style="
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12),
                0 0 6px rgba(0, 0, 0, 0.04);
            "
          >
            <div class="transition-box">
              <p>é“¾æ—¶ä»£ å‰ç«¯é¢˜ç›®</p>
              <div class="basic-content" style="margin: 20px 0 20px 10px">
                <i class="el-icon-document-remove"> æäº¤é¡»çŸ¥</i>
                <div class="intro">
                  <p>1.</p>
                  <p>2.</p>
                  <p>3.</p>
                  <p>4.</p>
                  <p>5.æ‹›æ–°æˆªæ­¢æ—¶é—´ä¸ºï¼š...</p>
                </div>
                <el-button
                  style="margin-top: 20px"
                  type="primary"
                  @click="$router.push('front')"
                  >Read More</el-button
                >
                <el-button
                  style="margin-top: 20px"
                  type="info"
                  @click="downloadMarkdownFilefront"
                  >é¢˜ç›®ä¸‹è½½</el-button
                >
                <el-button
                  style="margin-top: 20px"
                  type="primary"
                  @click="sumbitbox = true"
                  >æäº¤æ‹›æ–°é¢˜</el-button
                >
              </div>
              <hr />
            </div>
          </el-card>
          <div class="divider"></div>
          <el-card
            style="
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12),
                0 0 6px rgba(0, 0, 0, 0.04);
            "
          >
            <div class="transition-box">
              <p>é“¾æ—¶ä»£ åç«¯æ–¹å‘</p>
              <div class="basic-content" style="margin: 20px 0 20px 10px">
                <i class="el-icon-document-remove"> æäº¤é¡»çŸ¥</i>
                <div class="intro">
                  <p>1.</p>
                  <p>2.</p>
                  <p>3.</p>
                  <p>4.</p>
                  <p>5.æ‹›æ–°æˆªæ­¢æ—¶é—´ä¸ºï¼š...</p>
                </div>
                <el-button
                  style="margin-top: 20px"
                  type="primary"
                  @click="$router.push('java')"
                  >Read More</el-button
                >
                <el-button
                  style="margin-top: 20px"
                  type="info"
                  @click="downloadMarkdownFilejava"
                  >é¢˜ç›®ä¸‹è½½</el-button
                >
                <el-button
                  style="margin-top: 20px"
                  type="primary"
                  @click="sumbitbox = true"
                  >æäº¤æ‹›æ–°é¢˜</el-button
                >
              </div>
              <hr />
            </div>
          </el-card>
          <div class="divider"></div>
          <el-card
            style="
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12),
                0 0 6px rgba(0, 0, 0, 0.04);
            "
          >
            <div class="transition-box">
              <p>é“¾æ—¶ä»£ æœºå™¨å­¦ä¹ æ–¹å‘</p>
              <div class="basic-content" style="margin: 20px 0 20px 10px">
                <i class="el-icon-document-remove"> æäº¤é¡»çŸ¥</i>
                <div class="intro">
                  <p>1.</p>
                  <p>2.</p>
                  <p>3.</p>
                  <p>4.</p>
                  <p>5.æ‹›æ–°æˆªæ­¢æ—¶é—´ä¸ºï¼š...</p>
                </div>
                <el-button
                  style="margin-top: 20px"
                  type="primary"
                  @click="$router.push('machine')"
                  >Read More</el-button
                >
                <el-button
                  style="margin-top: 20px"
                  type="info"
                  @click="downloadMarkdownFileml"
                  >é¢˜ç›®ä¸‹è½½</el-button
                >
                <el-button
                  style="margin-top: 20px"
                  type="primary"
                  @click="sumbitbox = true"
                  >æäº¤æ‹›æ–°é¢˜</el-button
                >
              </div>
              <hr />
            </div>
          </el-card>
          <div class="divider"></div>
          <el-card
            style="
              box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12),
                0 0 6px rgba(0, 0, 0, 0.04);
            "
          >
            <div class="transition-box">
              <p>é“¾æ—¶ä»£ åŒºå—é“¾æ–¹å‘</p>
              <div class="basic-content" style="margin: 20px 0 20px 10px">
                <i class="el-icon-document-remove"> æäº¤é¡»çŸ¥</i>
                <div class="intro">
                  <p>
                    1.è¯·ä½¿ç”¨markdownæäº¤ä½ çš„ç¬”è®°å’Œç›¸å…³çš„å›¾ç‰‡ï¼Œä»£ç ã€‚ï¼ˆå»ºè®®ä½¿ç”¨Typoraï¼Œåœ¨ç½‘ä¸Šæ‰¾ç ´è§£ç‰ˆå³å¯ï¼‰
                  </p>
                  <p>2.æ‹›æ–°é¢˜è¯·å‘è‡³é‚®ç®±1994589823@qq.com</p>
                  <p>
                    3.æ‹›æ–°é¢˜è¯·å‘é€é™„ä»¶è¿›è¡Œæäº¤ï¼Œæœ€å¥½æ•´ç†å®Œå…¨åäº¤å‹ç¼©åŒ…ï¼Œå¦‚æœæœ‰å›¾ç‰‡å¯ä»¥å°†markdownè½¬åŒ–ä¸ºpdfå½¢å¼ï¼Œæäº¤æ ¼å¼è¯·å°†å‹ç¼©åŒ…å‘½åä¸ºâ€œå§“å+å­¦å·+ç¬¬å‡ æ¬¡æäº¤â€ï¼ˆä¸­é—´è¯·ç©ºæ ¼é—´éš”å¼€ï¼‰
                  </p>
                  <p>
                    4.å¦‚æœæœ‰ä»»ä½•é—®é¢˜è¯·åŠ qqï¼š1994589823æˆ–2589815532ï¼Œæˆ–è€…ç›´æ¥åœ¨æ‹›æ–°ç¾¤ä¸­æ‰¾ç›¸å…³å­¦é•¿
                  </p>
                  <p>5.æ„Ÿè°¢æ‚¨çš„æ”¯æŒä¸é…åˆï¼Œç¥å¥½è¿ï¼ï¼</p>
                </div>
                <p style="border: none">...</p>
                <el-button
                  style="margin-top: 20px"
                  type="primary"
                  @click="$router.push('chain')"
                  >Read More</el-button
                >
                <el-button
                  style="margin-top: 20px"
                  type="info"
                  @click="downloadMarkdownFilechain"
                  >é¢˜ç›®ä¸‹è½½</el-button
                >
                <el-button
                  style="margin-top: 20px"
                  type="primary"
                  @click="sumbitbox = true"
                  >æäº¤æ‹›æ–°é¢˜</el-button
                >
              </div>
              <hr />
            </div>
          </el-card>
        </div>
      </el-collapse-transition>
    </div>
    <el-divider>end</el-divider>
    <el-dialog title="æ‹›æ–°é¢˜æäº¤" :visible.sync="sumbitbox" width="30%" center>
      <h1 style="margin-bottom: 30px">æ–‡ä»¶ä¸Šä¼ </h1>
      <input type="file" ref="fileInput" @change="handleFileChange" />
      <div style="margin-top: 30px">
        <input
          type="text"
          v-model="customHeaderData"
          placeholder="è¯·è¾“å…¥æäº¤é‚®ç®±"
          style="width: 200px; height: 30px; border: 1px solid #ccc"
        />
        <el-button @click="uploadFile">ä¸Šä¼ æ–‡ä»¶</el-button>
      </div>
      <span slot="footer" class="dialog-footer">
        <el-button @click="sumbitbox = false" style="margin-left: -10px"
          >å– æ¶ˆ</el-button
        >
        <el-button
          type="primary"
          @click="sumbitbox = false"
          style="margin-left: 40px"
          >ç¡® å®š</el-button
        >
      </span>
    </el-dialog>
  </div>
</template>

<script>
import httpsub from "../utils/request2";
import YZhanWeather from "yzhanweather";
import { saveAs } from "file-saver";
// import http from "../utils/request";
export default {
  data() {
    return {
      sumbitbox: false,

      selectedFile: null,
      customHeaderData: "", // ç”¨æˆ·å¡«å†™çš„é‚®ç®±
    };
  },
  computed: {
    collapse() {
      return this.$store.state.collapse;
    },
  },
  methods: {
    handleFileChange(event) {
      // å¤„ç†æ–‡ä»¶é€‰æ‹©äº‹ä»¶
      this.selectedFile = event.target.files[0];
    },
    uploadFile() {
      if (!this.selectedFile) {
        return;
      }

      // åˆ›å»ºä¸€ä¸ª FormData å¯¹è±¡æ¥åŒ…è£…æ–‡ä»¶
      const formData = new FormData();
      formData.append("file", this.selectedFile);

      // åŠ¨æ€è®¾ç½®è¯·æ±‚å¤´
      //     const headers = {
      //     'X-Custom-Data': this.customHeaderData, // ä½¿ç”¨ç”¨æˆ·å¡«å†™çš„æ•°æ®
      //     'Content-Type': 'multipart', // è®¾ç½®è¯·æ±‚çš„ Content-Type ä¸º "multipart"
      //   };

      // ä½¿ç”¨ Axios å‘é€ POST è¯·æ±‚ä¸Šä¼ æ–‡ä»¶ï¼Œå¹¶å°†è¯·æ±‚å¤´ä¼ é€’ç»™ Axios çš„é…ç½®
      httpsub
        .post("/FileUpload", {
          file: this.selectedFile,
          email: this.customHeaderData,
        })
        .then((response) => {
          // å¤„ç†æˆåŠŸå“åº”
          console.log("æ–‡ä»¶ä¸Šä¼ æˆåŠŸ:", response.data);
          this.$message.success("æ–‡ä»¶ä¸Šä¼ æˆåŠŸ");
        })
        .catch((error) => {
          // å¤„ç†ä¸Šä¼ é”™è¯¯
          console.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥:", error);
          this.$message.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥");
        });
    },

    //ä¸‹è½½
    downloadMarkdownFilec() {
      // æ„å»ºMarkdownæ–‡ä»¶çš„å®Œæ•´URLï¼Œå‡è®¾æ–‡ä»¶ä½äºpublicç›®å½•ä¸‹
      const markdownFileUrl = process.env.BASE_URL + "C.md";

      // ä½¿ç”¨FileSaver.jsä¸‹è½½Markdownæ–‡ä»¶
      fetch(markdownFileUrl)
        .then((response) => response.blob())
        .then((blob) => {
          saveAs(blob, "C.md");
          this.$message.success("ä¸‹è½½æˆåŠŸ");
        })
        .catch((error) => {
          this.$message.error("ä¸‹è½½å¤±è´¥");
        });
    },
    downloadMarkdownFilefront() {
      // æ„å»ºMarkdownæ–‡ä»¶çš„å®Œæ•´URLï¼Œå‡è®¾æ–‡ä»¶ä½äºpublicç›®å½•ä¸‹
      const markdownFileUrl = process.env.BASE_URL + "å‰ç«¯æ‹›æ–°.pdf";

      // ä½¿ç”¨FileSaver.jsä¸‹è½½Markdownæ–‡ä»¶
      fetch(markdownFileUrl)
        .then((response) => response.blob())
        .then((blob) => {
          saveAs(blob, "å‰ç«¯æ‹›æ–°.pdf");
          this.$message.success("ä¸‹è½½æˆåŠŸ");
        })
        .catch((error) => {
          this.$message.error("ä¸‹è½½å¤±è´¥");
        });
    },
    downloadMarkdownFilejava() {
      const markdownFileUrl = process.env.BASE_URL + "Java.md";
      fetch(markdownFileUrl)
        .then((response) => response.blob())
        .then((blob) => {
          saveAs(blob, "Java.md");
          this.$message.success("ä¸‹è½½æˆåŠŸ");
        })
        .catch((error) => {
          this.$message.error("ä¸‹è½½å¤±è´¥");
        });
    },
    downloadMarkdownFileml(){
      const markdownFileUrl = process.env.BASE_URL + "ML.md";
      fetch(markdownFileUrl)
        .then((response) => response.blob())
        .then((blob) => {
          saveAs(blob, "ML.md");
          this.$message.success("ä¸‹è½½æˆåŠŸ");
        })
        .catch((error) => {
          this.$message.error("ä¸‹è½½å¤±è´¥");
        });
    },
    downloadMarkdownFilechain(){
      const markdownFileUrl = process.env.BASE_URL + "Chain.md";
      fetch(markdownFileUrl)
        .then((response) => response.blob())
        .then((blob) => {
          saveAs(blob, "Chain.md");
          this.$message.success("ä¸‹è½½æˆåŠŸ");
        })
        .catch((error) => {
          this.$message.error("ä¸‹è½½å¤±è´¥");
        });
    }
  },
  mounted() {
    const yzhanweather = new YZhanWeather();
    yzhanweather.run("sakura"); // Options: sakura | snow | firefly | rain | butterfly
    yzhanweather.run("sakura", {
      maxDuration: 15, // Default: 10s, this option can determine the speed of animations
    });
    setTimeout(() => {
      yzhanweather.destory(); // Destory the instance and free up memory
    }, 10000);
  },
};
</script>

<style lang="less" scoped>
.recruit {
  margin-top: 2%;
  margin-left: 25%;
  width: 50%;
  // background-color: antiquewhite;
  min-height: 90vh;
  .intro {
    p {
      margin-top: 10px;
    }
  }
  .title {
    font-size: 1.4em;
    color: #2e2e2e;
  }
  padding: 10px;

  .transition-box {
    margin-bottom: 10px;
    width: 90%;
    min-height: 100px;
    border-radius: 4px;
    // background-color: #409EFF;
    // text-align: center;
    // color: #fff;
    padding: 20px 20px;
    box-sizing: border-box;
    margin-right: 20px;
    p {
      font-size: 1.2em;
      color: #2e2e2e;
      border-bottom: 1px solid #eee;
    }
    i {
      color: #344c67;
      font-weight: bold;
    }

    .basic-content {
      p {
        font-size: 1em;
        color: #777;
      }
      .intro {
        margin-top: 15px;
        p {
          font-size: 15px;
          color: #515151;
        }
      }
    }
    hr {
      border: 2px dashed #a4d8fa;
      background: #fff;
    }
  }
  .divider {
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, #ccc, transparent);
    animation: pulse 2s infinite;
    margin: 20px 0;
  }

  @keyframes pulse {
    0% {
      background-position: 200%;
    }
    100% {
      background-position: -200%;
    }
  }
  input {
    transition: border-color 0.3s;
    margin-right: 20px;
  }
  input:focus {
    outline: #555; /* ç„¦ç‚¹çŠ¶æ€ä¸‹çš„è¾¹æ¡†é¢œè‰² */
  }
}
</style>